<!DOCTYPE html>
<html lang="en">
  <head>
    <% include ./partials/_head %>
    <% include ./partials/_header%>
    <script type="text/javascript" src="/scripts/event_results.js"></script> 
  </head>
  
  <body>
    <header>
     <!-- our own header with share event button toggle-->
    </header>

<!-- Page-specific (main) content here -->
    <main class="event-page-container">



      <section class="event-info">
        <h1> <%=title%> </h1>
        <h4> <%=location%> </h4>
        <h4> <%=description%> </h4>
        
       
      </section>

            <!-- Share event link content here -->
            <section class="share-event-container">
            <button class="share-btn" name="share-btn"><span><i class="fa fa-share-square"></i> Share your event</span></button>
            <input class="eventUrl" type="text" name="eventUrl" value="http://localhost:8080/e/<%= eventUrl%>" id="myInput">
            <button id="copy-btn" type="button">Copy link</button>
          </section>

      <section class="event-results-container">
        <table class="table">
          <thead class="thead-dark" class="tableHeading" name="tableHeading">
            <tr>
              <th scope="col"><button class="addNewAttendee" name="addNewAttendee"><span><i class="fa fa-plus-circle"></i></span></button></th>
              <th scope="col"> Name </th>
              <th scope="col">Email</th>
    <!-- Timeslots appended from database/ initial hardcoded ones-->
              <!-- <th  class="timeDateContainer" name="timeDateContainer" scope="col" ></th> -->
              <th class="choosenTimeslot" name="choosenTimeslot" scope="col"> 
              <% for (let i = 0; i < timeslot.length; i++) { %>
              <th>
                 <% let trimmedTime = timeslot[i].start_date %>
                 <% let stringtime= trimmedTime.toString() %>
                 <th class="dategiven" name="dategiven"> <%= stringtime.substring(0,10) %> </th>
                 </th>
              <% } %>
                <br><%= timeslot[0].start_time %> to <%= timeslot[0].end_time %> </th>
            </tr>
          </thead>

          <tbody>
    <!-- Create new attendee row -->
            <tr class="typeNewAttendee" name="typeNewAttendee">
              <th scope="row"></th>
              <td><input type="text" class="form-control" class="typeName" name="typeName" placeholder="name"> 	</td>
              <td> <input type="text" class="form-control" class="typeEmail" name="typeEmail" placeholder="email"> </td>
              <td><input type="checkbox"</td>
            </tr>
    
    <!-- Appended attendees rows + edit and delete options -->
            <tr class="addedAttendeeContainer" name="addedAttendeeContainer">
              <th scope="row" >
                <button class="editAttendee" name="editAttendee"><span><i class="fa fa-pencil"></i></span></button>
                <button class="deleteAttendee" name="deleteAttendee"><span><i class="fa fa-trash"></i></span></button>
              </th>
    <!-- hard coded attendees -->
              <td>Mark</td>
              <td>Otto</td>
              <td><input type="checkbox"></td>
            </tr>
          </tbody>
        </table>

        <br>
        <button class="updateButton" name="updateButton"><span>Update</span></button>
      </section>
    </main> 

    <footer>
      <% include ./partials/_footer %>
    </footer>
  </body>
</html>
